{"ast":null,"code":"import axios from 'axios';\nimport config from '../config';\nimport { glossary } from '../data/glossary';\n\n// Base URL and headers for Groq API\nconst groqApi = axios.create({\n  baseURL: config.groqApiUrl,\n  headers: {\n    'Authorization': `Bearer ${config.groqApiKey}`,\n    'Content-Type': 'application/json'\n  }\n});\n\n// Get an explanation for a DeFi concept\nconst getExplanation = async (concept, difficulty = 'beginner') => {\n  try {\n    // If no API key is available, use the glossary\n    if (!config.groqApiKey) {\n      return getFallbackExplanation(concept);\n    }\n    const response = await groqApi.post('/chat/completions', {\n      model: 'llama3-8b-8192',\n      messages: [{\n        role: 'system',\n        content: `You are a DeFi educator specializing in the Compound Protocol. \n          Explain concepts in simple terms with analogies. Target your explanation \n          for a ${difficulty} level user (beginner, intermediate, or advanced).\n          Keep explanations concise (max 3 paragraphs) and focus on practical understanding.`\n      }, {\n        role: 'user',\n        content: `Explain this DeFi concept related to Compound: \"${concept}\"`\n      }],\n      temperature: 0.5,\n      max_tokens: 500\n    });\n    return {\n      explanation: response.data.choices[0].message.content,\n      source: 'groq'\n    };\n  } catch (error) {\n    console.error('Error fetching explanation from Groq:', error);\n    return getFallbackExplanation(concept);\n  }\n};\n\n// Get a quiz question about a DeFi concept\nconst getQuizQuestion = async concept => {\n  try {\n    // If no API key is available, use the fallback\n    if (!config.groqApiKey) {\n      return getFallbackQuiz(concept);\n    }\n    const response = await groqApi.post('/chat/completions', {\n      model: 'llama3-8b-8192',\n      messages: [{\n        role: 'system',\n        content: `You are a DeFi educator creating quiz questions about the Compound Protocol.\n          Create a multiple-choice question with 4 options and indicate the correct answer.\n          Format your response as a JSON object with the following structure:\n          {\n            \"question\": \"The question text\",\n            \"options\": [\"Option A\", \"Option B\", \"Option C\", \"Option D\"],\n            \"correctIndex\": 0,\n            \"explanation\": \"Brief explanation of why this answer is correct\"\n          }`\n      }, {\n        role: 'user',\n        content: `Create a quiz question about this DeFi concept: \"${concept}\"`\n      }],\n      temperature: 0.7,\n      max_tokens: 500,\n      response_format: {\n        type: \"json_object\"\n      }\n    });\n    const quizData = JSON.parse(response.data.choices[0].message.content);\n    return {\n      ...quizData,\n      source: 'groq'\n    };\n  } catch (error) {\n    console.error('Error fetching quiz from Groq:', error);\n    return getFallbackQuiz(concept);\n  }\n};\n\n// Get a fallback explanation from the glossary\nconst getFallbackExplanation = concept => {\n  const normalizedConcept = concept.toLowerCase().trim();\n\n  // Try to find an exact match\n  const exactMatch = glossary.find(item => item.term.toLowerCase() === normalizedConcept);\n  if (exactMatch) {\n    return {\n      explanation: exactMatch.explanation,\n      source: 'glossary'\n    };\n  }\n\n  // Try to find a partial match\n  const partialMatch = glossary.find(item => normalizedConcept.includes(item.term.toLowerCase()) || item.term.toLowerCase().includes(normalizedConcept));\n  if (partialMatch) {\n    return {\n      explanation: partialMatch.explanation,\n      source: 'glossary'\n    };\n  }\n\n  // Return a generic explanation if no match is found\n  return {\n    explanation: `${concept} is a concept related to decentralized finance (DeFi) and the Compound Protocol. For more specific information, please check the documentation or enable the AI explanation feature.`,\n    source: 'fallback'\n  };\n};\n\n// Get a fallback quiz question\nconst getFallbackQuiz = concept => {\n  // Return a generic quiz question based on the concept\n  return {\n    question: `Which of the following best describes ${concept}?`,\n    options: [`A mechanism in the Compound Protocol`, `A type of cryptocurrency token`, `A DeFi lending strategy`, `A blockchain consensus algorithm`],\n    correctIndex: 0,\n    explanation: `This is a fallback question. Enable the AI feature for more accurate quizzes.`,\n    source: 'fallback'\n  };\n};\nexport const groqService = {\n  getExplanation,\n  getQuizQuestion\n};","map":{"version":3,"names":["axios","config","glossary","groqApi","create","baseURL","groqApiUrl","headers","groqApiKey","getExplanation","concept","difficulty","getFallbackExplanation","response","post","model","messages","role","content","temperature","max_tokens","explanation","data","choices","message","source","error","console","getQuizQuestion","getFallbackQuiz","response_format","type","quizData","JSON","parse","normalizedConcept","toLowerCase","trim","exactMatch","find","item","term","partialMatch","includes","question","options","correctIndex","groqService"],"sources":["C:/Users/User/Documents/GitHub/LearnFi/learnfi/src/services/groqService.js"],"sourcesContent":["import axios from 'axios';\nimport config from '../config';\nimport { glossary } from '../data/glossary';\n\n// Base URL and headers for Groq API\nconst groqApi = axios.create({\n  baseURL: config.groqApiUrl,\n  headers: {\n    'Authorization': `Bearer ${config.groqApiKey}`,\n    'Content-Type': 'application/json'\n  }\n});\n\n// Get an explanation for a DeFi concept\nconst getExplanation = async (concept, difficulty = 'beginner') => {\n  try {\n    // If no API key is available, use the glossary\n    if (!config.groqApiKey) {\n      return getFallbackExplanation(concept);\n    }\n\n    const response = await groqApi.post('/chat/completions', {\n      model: 'llama3-8b-8192',\n      messages: [\n        {\n          role: 'system',\n          content: `You are a DeFi educator specializing in the Compound Protocol. \n          Explain concepts in simple terms with analogies. Target your explanation \n          for a ${difficulty} level user (beginner, intermediate, or advanced).\n          Keep explanations concise (max 3 paragraphs) and focus on practical understanding.`\n        },\n        {\n          role: 'user',\n          content: `Explain this DeFi concept related to Compound: \"${concept}\"`\n        }\n      ],\n      temperature: 0.5,\n      max_tokens: 500\n    });\n\n    return {\n      explanation: response.data.choices[0].message.content,\n      source: 'groq'\n    };\n  } catch (error) {\n    console.error('Error fetching explanation from Groq:', error);\n    return getFallbackExplanation(concept);\n  }\n};\n\n// Get a quiz question about a DeFi concept\nconst getQuizQuestion = async (concept) => {\n  try {\n    // If no API key is available, use the fallback\n    if (!config.groqApiKey) {\n      return getFallbackQuiz(concept);\n    }\n\n    const response = await groqApi.post('/chat/completions', {\n      model: 'llama3-8b-8192',\n      messages: [\n        {\n          role: 'system',\n          content: `You are a DeFi educator creating quiz questions about the Compound Protocol.\n          Create a multiple-choice question with 4 options and indicate the correct answer.\n          Format your response as a JSON object with the following structure:\n          {\n            \"question\": \"The question text\",\n            \"options\": [\"Option A\", \"Option B\", \"Option C\", \"Option D\"],\n            \"correctIndex\": 0,\n            \"explanation\": \"Brief explanation of why this answer is correct\"\n          }`\n        },\n        {\n          role: 'user',\n          content: `Create a quiz question about this DeFi concept: \"${concept}\"`\n        }\n      ],\n      temperature: 0.7,\n      max_tokens: 500,\n      response_format: { type: \"json_object\" }\n    });\n\n    const quizData = JSON.parse(response.data.choices[0].message.content);\n    return {\n      ...quizData,\n      source: 'groq'\n    };\n  } catch (error) {\n    console.error('Error fetching quiz from Groq:', error);\n    return getFallbackQuiz(concept);\n  }\n};\n\n// Get a fallback explanation from the glossary\nconst getFallbackExplanation = (concept) => {\n  const normalizedConcept = concept.toLowerCase().trim();\n  \n  // Try to find an exact match\n  const exactMatch = glossary.find(item => \n    item.term.toLowerCase() === normalizedConcept\n  );\n  \n  if (exactMatch) {\n    return {\n      explanation: exactMatch.explanation,\n      source: 'glossary'\n    };\n  }\n  \n  // Try to find a partial match\n  const partialMatch = glossary.find(item => \n    normalizedConcept.includes(item.term.toLowerCase()) || \n    item.term.toLowerCase().includes(normalizedConcept)\n  );\n  \n  if (partialMatch) {\n    return {\n      explanation: partialMatch.explanation,\n      source: 'glossary'\n    };\n  }\n  \n  // Return a generic explanation if no match is found\n  return {\n    explanation: `${concept} is a concept related to decentralized finance (DeFi) and the Compound Protocol. For more specific information, please check the documentation or enable the AI explanation feature.`,\n    source: 'fallback'\n  };\n};\n\n// Get a fallback quiz question\nconst getFallbackQuiz = (concept) => {\n  // Return a generic quiz question based on the concept\n  return {\n    question: `Which of the following best describes ${concept}?`,\n    options: [\n      `A mechanism in the Compound Protocol`,\n      `A type of cryptocurrency token`,\n      `A DeFi lending strategy`,\n      `A blockchain consensus algorithm`\n    ],\n    correctIndex: 0,\n    explanation: `This is a fallback question. Enable the AI feature for more accurate quizzes.`,\n    source: 'fallback'\n  };\n};\n\nexport const groqService = {\n  getExplanation,\n  getQuizQuestion\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}