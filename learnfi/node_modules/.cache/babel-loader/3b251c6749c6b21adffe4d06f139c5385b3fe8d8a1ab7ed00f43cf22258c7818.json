{"ast":null,"code":"\"use strict\";\n\n/**\n * @file Compound\n * @desc This file defines the constructor of the `Compound` class.\n * @hidden\n */\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar ethers_1 = require(\"ethers\");\nvar api = require(\"./api\");\nvar comet = require(\"./comet\");\nvar comp = require(\"./comp\");\nvar comptroller = require(\"./comptroller\");\nvar cToken = require(\"./cToken\");\nvar eth = require(\"./eth\");\nvar gov = require(\"./gov\");\nvar priceFeed = require(\"./priceFeed\");\nvar util = require(\"./util\");\nvar constants_1 = require(\"./constants\");\n// Turn off Ethers.js warnings\nethers_1.ethers.utils.Logger.setLogLevel(ethers_1.ethers.utils.Logger.levels.ERROR);\n/**\n * Creates an instance of the Compound.js SDK.\n *\n * @param {Provider | string} [provider] Optional Ethereum network provider.\n *     Defaults to Ethers.js fallback mainnet provider.\n * @param {object} [options] Optional provider options.\n *\n * @example\n *\n * ```\n * var compound = new Compound(window.ethereum); // web browser\n *\n * var compound = new Compound('http://127.0.0.1:8545'); // HTTP provider\n *\n * var compound = new Compound(); // Uses Ethers.js fallback mainnet (for testing only)\n *\n * var compound = new Compound('goerli'); // Uses Ethers.js fallback (for testing only)\n *\n * // Init with private key (server side)\n * var compound = new Compound('https://mainnet.infura.io/v3/_your_project_id_', {\n *   privateKey: '0x_your_private_key_', // preferably with environment variable\n * });\n *\n * // Init with HD mnemonic (server side)\n * var compound = new Compound('mainnet' {\n *   mnemonic: 'clutch captain shoe...', // preferably with environment variable\n * });\n * ```\n *\n * @returns {object} Returns an instance of the Compound.js SDK.\n */\nvar Compound = function (provider, options) {\n  if (provider === void 0) {\n    provider = 'mainnet';\n  }\n  if (options === void 0) {\n    options = {};\n  }\n  var originalProvider = provider;\n  options.provider = provider || options.provider;\n  provider = eth._createProvider(options);\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  var instance = __assign(__assign(__assign(__assign(__assign({\n    _originalProvider: originalProvider,\n    _provider: provider\n  }, comptroller), cToken), gov), priceFeed), {\n    claimComp: comp.claimComp,\n    delegate: comp.delegate,\n    delegateBySig: comp.delegateBySig,\n    createDelegateSignature: comp.createDelegateSignature\n  });\n  // Instance needs to know which network the provider connects to, so it can\n  //     use the correct contract addresses.\n  instance._networkPromise = eth.getProviderNetwork(provider).then(function (network) {\n    delete instance._networkPromise;\n    instance._network = network;\n  });\n  instance.comet = {\n    _compoundInstance: instance,\n    absorb: comet.absorb,\n    allow: comet.allow,\n    allowBySig: comet.allowBySig,\n    buyCollateral: comet.buyCollateral,\n    createAllowSignature: comet.createAllowSignature,\n    supply: comet.supply,\n    transfer: comet.transfer,\n    withdraw: comet.withdraw,\n    withdrawFrom: comet.withdrawFrom,\n    withdrawTo: comet.withdrawTo\n  };\n  return instance;\n};\nCompound.eth = eth;\nCompound.api = api;\nCompound.util = util;\nCompound._ethers = ethers_1.ethers;\nCompound.decimals = constants_1.decimals;\nCompound.comp = {\n  getCompAccrued: comp.getCompAccrued,\n  getCompBalance: comp.getCompBalance\n};\nCompound.comet = {\n  borrowBalanceOf: comet.borrowBalanceOf,\n  collateralBalanceOf: comet.collateralBalanceOf,\n  getAssetInfo: comet.getAssetInfo,\n  getAssetInfoByAddress: comet.getAssetInfoByAddress,\n  getAssetInfoBySymbol: comet.getAssetInfoBySymbol,\n  getBaseAssetName: comet.getBaseAssetName,\n  getBorrowRate: comet.getBorrowRate,\n  getPrice: comet.getPrice,\n  getReserves: comet.getReserves,\n  getSupplyRate: comet.getSupplyRate,\n  getSupportedCollaterals: comet.getSupportedCollaterals,\n  getSupportedNetworkNames: comet.getSupportedNetworkNames,\n  getUtilization: comet.getUtilization,\n  isBorrowCollateralized: comet.isBorrowCollateralized,\n  isLiquidatable: comet.isLiquidatable,\n  quoteCollateral: comet.quoteCollateral,\n  targetReserves: comet.targetReserves\n};\nObject.assign(Compound, constants_1.constants);\nmodule.exports = Compound;","map":{"version":3,"names":["ethers_1","require","api","comet","comp","comptroller","cToken","eth","gov","priceFeed","util","constants_1","ethers","utils","Logger","setLogLevel","levels","ERROR","Compound","provider","options","originalProvider","_createProvider","instance","__assign","_originalProvider","_provider","claimComp","delegate","delegateBySig","createDelegateSignature","_networkPromise","getProviderNetwork","then","network","_network","_compoundInstance","absorb","allow","allowBySig","buyCollateral","createAllowSignature","supply","transfer","withdraw","withdrawFrom","withdrawTo","_ethers","decimals","getCompAccrued","getCompBalance","borrowBalanceOf","collateralBalanceOf","getAssetInfo","getAssetInfoByAddress","getAssetInfoBySymbol","getBaseAssetName","getBorrowRate","getPrice","getReserves","getSupplyRate","getSupportedCollaterals","getSupportedNetworkNames","getUtilization","isBorrowCollateralized","isLiquidatable","quoteCollateral","targetReserves","Object","assign","constants","module","exports"],"sources":["../../src/index.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}